import{j as f}from"./jsx-runtime-D_zvdyIk.js";import{r as t}from"./index-CGj_12n1.js";import{c as re}from"./cn-CIsb_jhR.js";import"./clsx-B-dksMZM.js";var Ae=Object.defineProperty,Ne=Object.defineProperties,We=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,ve=(r,a,l)=>a in r?Ae(r,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[a]=l,Fe=(r,a)=>{for(var l in a||(a={}))we.call(a,l)&&ve(r,l,a[l]);if(U)for(var l of U(a))Pe.call(a,l)&&ve(r,l,a[l]);return r},He=(r,a)=>Ne(r,We(a)),Le=(r,a)=>{var l={};for(var s in r)we.call(r,s)&&a.indexOf(s)<0&&(l[s]=r[s]);if(r!=null&&U)for(var s of U(r))a.indexOf(s)<0&&Pe.call(r,s)&&(l[s]=r[s]);return l};function $e(r){let a=setTimeout(r,0),l=setTimeout(r,10),s=setTimeout(r,50);return[a,l,s]}function Ge(r){let a=t.useRef();return t.useEffect(()=>{a.current=r}),a.current}var ze=18,Ee=40,qe=`${Ee}px`,Ve=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Ze({containerRef:r,inputRef:a,pushPasswordManagerStrategy:l,isFocused:s}){let[w,p]=t.useState(!1),[O,j]=t.useState(!1),[B,H]=t.useState(!1),L=t.useMemo(()=>l==="none"?!1:(l==="increase-width"||l==="experimental-no-flickering")&&w&&O,[w,O,l]),A=t.useCallback(()=>{let g=r.current,y=a.current;if(!g||!y||B||l==="none")return;let x=g,P=x.getBoundingClientRect().left+x.offsetWidth,N=x.getBoundingClientRect().top+x.offsetHeight/2,i=P-ze,$=N;document.querySelectorAll(Ve).length===0&&document.elementFromPoint(i,$)===g||(p(!0),H(!0))},[r,a,B,l]);return t.useEffect(()=>{let g=r.current;if(!g||l==="none")return;function y(){let P=window.innerWidth-g.getBoundingClientRect().right;j(P>=Ee)}y();let x=setInterval(y,1e3);return()=>{clearInterval(x)}},[r,l]),t.useEffect(()=>{let g=s||document.activeElement===a.current;if(l==="none"||!g)return;let y=setTimeout(A,0),x=setTimeout(A,2e3),P=setTimeout(A,5e3),N=setTimeout(()=>{H(!0)},6e3);return()=>{clearTimeout(y),clearTimeout(x),clearTimeout(P),clearTimeout(N)}},[a,s,l,A]),{hasPWMBadge:w,willPushPWMBadge:L,PWM_BADGE_SPACE_WIDTH:qe}}var ye=t.createContext({}),Ce=t.forwardRef((r,a)=>{var l=r,{value:s,onChange:w,maxLength:p,textAlign:O="left",pattern:j,placeholder:B,inputMode:H="numeric",onComplete:L,pushPasswordManagerStrategy:A="increase-width",pasteTransformer:g,containerClassName:y,noScriptCSSFallback:x=Je,render:P,children:N}=l,i=Le(l,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),$,le,oe,ie,se;let[Oe,je]=t.useState(typeof i.defaultValue=="string"?i.defaultValue:""),u=s??Oe,I=Ge(u),G=t.useCallback(e=>{w==null||w(e),je(e)},[w]),S=t.useMemo(()=>j?typeof j=="string"?new RegExp(j):j:null,[j]),c=t.useRef(null),X=t.useRef(null),Y=t.useRef({value:u,onChange:G,isIOS:typeof window<"u"&&((le=($=window==null?void 0:window.CSS)==null?void 0:$.supports)==null?void 0:le.call($,"-webkit-touch-callout","none"))}),J=t.useRef({prev:[(oe=c.current)==null?void 0:oe.selectionStart,(ie=c.current)==null?void 0:ie.selectionEnd,(se=c.current)==null?void 0:se.selectionDirection]});t.useImperativeHandle(a,()=>c.current,[]),t.useEffect(()=>{let e=c.current,n=X.current;if(!e||!n)return;Y.current.value!==e.value&&Y.current.onChange(e.value),J.current.prev=[e.selectionStart,e.selectionEnd,e.selectionDirection];function d(){if(document.activeElement!==e){q(null),V(null);return}let o=e.selectionStart,m=e.selectionEnd,K=e.selectionDirection,b=e.maxLength,k=e.value,E=J.current.prev,C=-1,T=-1,R;if(k.length!==0&&o!==null&&m!==null){let _e=o===m,De=o===k.length&&k.length<b;if(_e&&!De){let _=o;if(_===0)C=0,T=1,R="forward";else if(_===b)C=_-1,T=_,R="backward";else if(b>1&&k.length>1){let ne=0;if(E[0]!==null&&E[1]!==null){R=_<E[1]?"backward":"forward";let Be=E[0]===E[1]&&E[0]<b;R==="backward"&&!Be&&(ne=-1)}C=ne+_,T=ne+_+1}}C!==-1&&T!==-1&&C!==T&&c.current.setSelectionRange(C,T,R)}let ge=C!==-1?C:o,he=T!==-1?T:m,Re=R??K;q(ge),V(he),J.current.prev=[ge,he,Re]}if(document.addEventListener("selectionchange",d,{capture:!0}),d(),document.activeElement===e&&ee(!0),!document.getElementById("input-otp-style")){let o=document.createElement("style");if(o.id="input-otp-style",document.head.appendChild(o),o.sheet){let m="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Z(o.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Z(o.sheet,`[data-input-otp]:autofill { ${m} }`),Z(o.sheet,`[data-input-otp]:-webkit-autofill { ${m} }`),Z(o.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Z(o.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let h=()=>{n&&n.style.setProperty("--root-height",`${e.clientHeight}px`)};h();let v=new ResizeObserver(h);return v.observe(e),()=>{document.removeEventListener("selectionchange",d,{capture:!0}),v.disconnect()}},[]);let[ue,ce]=t.useState(!1),[z,ee]=t.useState(!1),[M,q]=t.useState(null),[W,V]=t.useState(null);t.useEffect(()=>{$e(()=>{var e,n,d,h;(e=c.current)==null||e.dispatchEvent(new Event("input"));let v=(n=c.current)==null?void 0:n.selectionStart,o=(d=c.current)==null?void 0:d.selectionEnd,m=(h=c.current)==null?void 0:h.selectionDirection;v!==null&&o!==null&&(q(v),V(o),J.current.prev=[v,o,m])})},[u,z]),t.useEffect(()=>{I!==void 0&&u!==I&&I.length<p&&u.length===p&&(L==null||L(u))},[p,L,I,u]);let F=Ze({containerRef:X,inputRef:c,pushPasswordManagerStrategy:A,isFocused:z}),pe=t.useCallback(e=>{let n=e.currentTarget.value.slice(0,p);if(n.length>0&&S&&!S.test(n)){e.preventDefault();return}typeof I=="string"&&n.length<I.length&&document.dispatchEvent(new Event("selectionchange")),G(n)},[p,G,I,S]),de=t.useCallback(()=>{var e;if(c.current){let n=Math.min(c.current.value.length,p-1),d=c.current.value.length;(e=c.current)==null||e.setSelectionRange(n,d),q(n),V(d)}ee(!0)},[p]),me=t.useCallback(e=>{var n,d;let h=c.current;if(!g&&(!Y.current.isIOS||!e.clipboardData||!h))return;let v=e.clipboardData.getData("text/plain"),o=g?g(v):v;e.preventDefault();let m=(n=c.current)==null?void 0:n.selectionStart,K=(d=c.current)==null?void 0:d.selectionEnd,b=(m!==K?u.slice(0,m)+o+u.slice(K):u.slice(0,m)+o+u.slice(m)).slice(0,p);if(b.length>0&&S&&!S.test(b))return;h.value=b,G(b);let k=Math.min(b.length,p-1),E=b.length;h.setSelectionRange(k,E),q(k),V(E)},[p,G,S,u]),Ie=t.useMemo(()=>({position:"relative",cursor:i.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[i.disabled]),fe=t.useMemo(()=>({position:"absolute",inset:0,width:F.willPushPWMBadge?`calc(100% + ${F.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:F.willPushPWMBadge?`inset(0 ${F.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:O,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[F.PWM_BADGE_SPACE_WIDTH,F.willPushPWMBadge,O]),Me=t.useMemo(()=>t.createElement("input",He(Fe({autoComplete:i.autoComplete||"one-time-code"},i),{"data-input-otp":!0,"data-input-otp-placeholder-shown":u.length===0||void 0,"data-input-otp-mss":M,"data-input-otp-mse":W,inputMode:H,pattern:S==null?void 0:S.source,"aria-placeholder":B,style:fe,maxLength:p,value:u,ref:c,onPaste:e=>{var n;me(e),(n=i.onPaste)==null||n.call(i,e)},onChange:pe,onMouseOver:e=>{var n;ce(!0),(n=i.onMouseOver)==null||n.call(i,e)},onMouseLeave:e=>{var n;ce(!1),(n=i.onMouseLeave)==null||n.call(i,e)},onFocus:e=>{var n;de(),(n=i.onFocus)==null||n.call(i,e)},onBlur:e=>{var n;ee(!1),(n=i.onBlur)==null||n.call(i,e)}})),[pe,de,me,H,fe,p,W,M,i,S==null?void 0:S.source,u]),te=t.useMemo(()=>({slots:Array.from({length:p}).map((e,n)=>{var d;let h=z&&M!==null&&W!==null&&(M===W&&n===M||n>=M&&n<W),v=u[n]!==void 0?u[n]:null,o=u[0]!==void 0?null:(d=B==null?void 0:B[n])!=null?d:null;return{char:v,placeholderChar:o,isActive:h,hasFakeCaret:h&&v===null}}),isFocused:z,isHovering:!i.disabled&&ue}),[z,ue,p,W,M,i.disabled,u]),ke=t.useMemo(()=>P?P(te):t.createElement(ye.Provider,{value:te},N),[N,te,P]);return t.createElement(t.Fragment,null,x!==null&&t.createElement("noscript",null,t.createElement("style",null,x)),t.createElement("div",{ref:X,"data-input-otp-container":!0,style:Ie,className:y},ke,t.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Me)))});Ce.displayName="Input";function Z(r,a){try{r.insertRule(a)}catch{console.error("input-otp could not insert CSS rule:",a)}}var Je=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;function ae({className:r,containerClassName:a,...l}){return f.jsx(Ce,{className:re("flex items-center gap-2 has-[:disabled]:opacity-50",a),...l})}function D({className:r,index:a,...l}){const s=t.useContext(ye),{char:w,hasFakeCaret:p,isActive:O}=s.slots[a];return f.jsxs("div",{className:re("relative flex size-10 items-center justify-center rounded-md border bg-background text-sm shadow-xs",O&&"ring-2 ring-ring/50",r),...l,children:[w,p?f.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground"})}):null]})}function Te({className:r,...a}){return f.jsx("div",{role:"separator","aria-hidden":!0,className:re("flex w-4 justify-center text-muted-foreground",r),...a,children:"â€¢"})}ae.__docgenInfo={description:"",methods:[],displayName:"InputOTP",props:{containerClassName:{required:!1,tsType:{name:"string"},description:""}}};D.__docgenInfo={description:"",methods:[],displayName:"InputOTPSlot",props:{index:{required:!0,tsType:{name:"number"},description:""}}};Te.__docgenInfo={description:"",methods:[],displayName:"InputOTPSeparator"};const Ye={title:"Components/InputOTP",component:ae},Q={render:()=>f.jsxs(ae,{maxLength:6,containerClassName:"",children:[f.jsx(D,{index:0}),f.jsx(D,{index:1}),f.jsx(D,{index:2}),f.jsx(Te,{}),f.jsx(D,{index:3}),f.jsx(D,{index:4}),f.jsx(D,{index:5})]})};var xe,be,Se;Q.parameters={...Q.parameters,docs:{...(xe=Q.parameters)==null?void 0:xe.docs,source:{originalSource:`{
  render: () => <InputOTP maxLength={6} containerClassName="">
      <InputOTPSlot index={0} />
      <InputOTPSlot index={1} />
      <InputOTPSlot index={2} />
      <InputOTPSeparator />
      <InputOTPSlot index={3} />
      <InputOTPSlot index={4} />
      <InputOTPSlot index={5} />
    </InputOTP>
}`,...(Se=(be=Q.parameters)==null?void 0:be.docs)==null?void 0:Se.source}}};const et=["Basic"];export{Q as Basic,et as __namedExportsOrder,Ye as default};
