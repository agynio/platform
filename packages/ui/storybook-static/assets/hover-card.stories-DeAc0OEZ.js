import{j as a}from"./jsx-runtime-D_zvdyIk.js";import{r as n}from"./index-CGj_12n1.js";import{c as l}from"./index-DW48STyt.js";import{c as $}from"./index-TY7crxDQ.js";import{u as W}from"./index-C49e1uq5.js";import{u as V}from"./index-CIYbrQaX.js";import{c as j,R as q,A as G,C as K,a as z}from"./index-Clx8toLk.js";import{P as J}from"./index-DB8CXl0m.js";import{P as D}from"./index-B9c7NqGo.js";import{P as Q}from"./index-C-YlrO5j.js";import{D as X}from"./index-BIagkF6f.js";import{c as Y}from"./cn-CIsb_jhR.js";import{B as Z}from"./button-BndxJFtN.js";import"./index-vmleiZMo.js";import"./index-D8dqFcAi.js";import"./index-BBPXtLXU.js";import"./index-DVxWRdtb.js";import"./index-Cme87syZ.js";import"./clsx-B-dksMZM.js";import"./index-Dp3B9jqt.js";var T,S="HoverCard",[A]=$(S,[j]),w=j(),[ee,E]=A(S),k=e=>{const{__scopeHoverCard:o,children:t,open:i,defaultOpen:s,onOpenChange:c,openDelay:f=700,closeDelay:v=300}=e,d=w(o),m=n.useRef(0),p=n.useRef(0),C=n.useRef(!1),u=n.useRef(!1),[h,r]=W({prop:i,defaultProp:s??!1,onChange:c,caller:S}),x=n.useCallback(()=>{clearTimeout(p.current),m.current=window.setTimeout(()=>r(!0),f)},[f,r]),P=n.useCallback(()=>{clearTimeout(m.current),!C.current&&!u.current&&(p.current=window.setTimeout(()=>r(!1),v))},[v,r]),U=n.useCallback(()=>r(!1),[r]);return n.useEffect(()=>()=>{clearTimeout(m.current),clearTimeout(p.current)},[]),a.jsx(ee,{scope:o,open:h,onOpenChange:r,onOpen:x,onClose:P,onDismiss:U,hasSelectionRef:C,isPointerDownOnContentRef:u,children:a.jsx(q,{...d,children:t})})};k.displayName=S;var L="HoverCardTrigger",I=n.forwardRef((e,o)=>{const{__scopeHoverCard:t,...i}=e,s=E(L,t),c=w(t);return a.jsx(G,{asChild:!0,...c,children:a.jsx(Q.a,{"data-state":s.open?"open":"closed",...i,ref:o,onPointerEnter:l(e.onPointerEnter,R(s.onOpen)),onPointerLeave:l(e.onPointerLeave,R(s.onClose)),onFocus:l(e.onFocus,s.onOpen),onBlur:l(e.onBlur,s.onClose),onTouchStart:l(e.onTouchStart,f=>f.preventDefault())})})});I.displayName=L;var O="HoverCardPortal",[re,oe]=A(O,{forceMount:void 0}),M=e=>{const{__scopeHoverCard:o,forceMount:t,children:i,container:s}=e,c=E(O,o);return a.jsx(re,{scope:o,forceMount:t,children:a.jsx(D,{present:t||c.open,children:a.jsx(J,{asChild:!0,container:s,children:i})})})};M.displayName=O;var H="HoverCardContent",B=n.forwardRef((e,o)=>{const t=oe(H,e.__scopeHoverCard),{forceMount:i=t.forceMount,...s}=e,c=E(H,e.__scopeHoverCard);return a.jsx(D,{present:i||c.open,children:a.jsx(te,{"data-state":c.open?"open":"closed",...s,onPointerEnter:l(e.onPointerEnter,R(c.onOpen)),onPointerLeave:l(e.onPointerLeave,R(c.onClose)),ref:o})})});B.displayName=H;var te=n.forwardRef((e,o)=>{const{__scopeHoverCard:t,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:c,onInteractOutside:f,...v}=e,d=E(H,t),m=w(t),p=n.useRef(null),C=V(o,p),[u,h]=n.useState(!1);return n.useEffect(()=>{if(u){const r=document.body;return T=r.style.userSelect||r.style.webkitUserSelect,r.style.userSelect="none",r.style.webkitUserSelect="none",()=>{r.style.userSelect=T,r.style.webkitUserSelect=T}}},[u]),n.useEffect(()=>{if(p.current){const r=()=>{h(!1),d.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var P;((P=document.getSelection())==null?void 0:P.toString())!==""&&(d.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",r),()=>{document.removeEventListener("pointerup",r),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!1}}},[d.isPointerDownOnContentRef,d.hasSelectionRef]),n.useEffect(()=>{p.current&&se(p.current).forEach(x=>x.setAttribute("tabindex","-1"))}),a.jsx(X,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:f,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:l(c,r=>{r.preventDefault()}),onDismiss:d.onDismiss,children:a.jsx(K,{...m,...v,onPointerDown:l(v.onPointerDown,r=>{r.currentTarget.contains(r.target)&&h(!0),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!0}),ref:C,style:{...v.style,userSelect:u?"text":void 0,WebkitUserSelect:u?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),ne="HoverCardArrow",ae=n.forwardRef((e,o)=>{const{__scopeHoverCard:t,...i}=e,s=w(t);return a.jsx(z,{...s,...i,ref:o})});ae.displayName=ne;function R(e){return o=>o.pointerType==="touch"?void 0:e()}function se(e){const o=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)o.push(t.currentNode);return o}var ie=k,ce=I,de=M,F=B;const le=ie,pe=ce,ue=de,b=n.forwardRef(({className:e,align:o="center",sideOffset:t=4,...i},s)=>a.jsx(ue,{children:a.jsx(F,{ref:s,align:o,sideOffset:t,className:Y("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none",e),...i})}));b.displayName=F.displayName;b.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:"'center'",computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};const De={title:"Components/HoverCard",component:b},g={render:()=>a.jsxs(le,{children:[a.jsx(pe,{asChild:!0,children:a.jsx(Z,{variant:"link",children:"Hover me"})}),a.jsx(b,{children:"Information appears on hover."})]})};var _,y,N;g.parameters={...g.parameters,docs:{...(_=g.parameters)==null?void 0:_.docs,source:{originalSource:`{
  render: () => <HoverCard>
      <HoverCardTrigger asChild>
        <Button variant="link">Hover me</Button>
      </HoverCardTrigger>
      <HoverCardContent>Information appears on hover.</HoverCardContent>
    </HoverCard>
}`,...(N=(y=g.parameters)==null?void 0:y.docs)==null?void 0:N.source}}};const Ae=["Basic"];export{g as Basic,Ae as __namedExportsOrder,De as default};
