import{j as J}from"./jsx-runtime-D_zvdyIk.js";import{r as d,a as In}from"./index-CGj_12n1.js";import{c as Ge}from"./cn-CIsb_jhR.js";import"./clsx-B-dksMZM.js";const Ee=d.createContext(null);Ee.displayName="PanelGroupContext";const k={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Te=10,te=d.useLayoutEffect,Ue=In.useId,Ln=typeof Ue=="function"?Ue:()=>null;let An=0;function Be(e=null){const n=Ln(),t=d.useRef(e||n||null);return t.current===null&&(t.current=""+An++),e??t.current}function rn({children:e,className:n="",collapsedSize:t,collapsible:r,defaultSize:i,forwardedRef:o,id:l,maxSize:a,minSize:s,onCollapse:z,onExpand:w,onResize:p,order:u,style:v,tagName:h="div",...E}){const R=d.useContext(Ee);if(R===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:S,expandPanel:L,getPanelSize:H,getPanelStyle:M,groupId:U,isPanelCollapsed:I,reevaluatePanelConstraints:P,registerPanel:V,resizePanel:X,unregisterPanel:j}=R,G=Be(l),N=d.useRef({callbacks:{onCollapse:z,onExpand:w,onResize:p},constraints:{collapsedSize:t,collapsible:r,defaultSize:i,maxSize:a,minSize:s},id:G,idIsFromProps:l!==void 0,order:u});d.useRef({didLogMissingDefaultSizeWarning:!1}),te(()=>{const{callbacks:_,constraints:$}=N.current,T={...$};N.current.id=G,N.current.idIsFromProps=l!==void 0,N.current.order=u,_.onCollapse=z,_.onExpand=w,_.onResize=p,$.collapsedSize=t,$.collapsible=r,$.defaultSize=i,$.maxSize=a,$.minSize=s,(T.collapsedSize!==$.collapsedSize||T.collapsible!==$.collapsible||T.maxSize!==$.maxSize||T.minSize!==$.minSize)&&P(N.current,T)}),te(()=>{const _=N.current;return V(_),()=>{j(_)}},[u,G,V,j]),d.useImperativeHandle(o,()=>({collapse:()=>{S(N.current)},expand:_=>{L(N.current,_)},getId(){return G},getSize(){return H(N.current)},isCollapsed(){return I(N.current)},isExpanded(){return!I(N.current)},resize:_=>{X(N.current,_)}}),[S,L,H,I,G,X]);const Q=M(N.current,i);return d.createElement(h,{...E,children:e,className:n,id:G,style:{...Q,...v},[k.groupId]:U,[k.panel]:"",[k.panelCollapsible]:r||void 0,[k.panelId]:G,[k.panelSize]:parseFloat(""+Q.flexGrow).toFixed(1)})}const on=d.forwardRef((e,n)=>d.createElement(rn,{...e,forwardedRef:n}));rn.displayName="Panel";on.displayName="forwardRef(Panel)";let $e=null,Pe=-1,Z=null;function kn(e,n){if(n){const t=(n&cn)!==0,r=(n&dn)!==0,i=(n&fn)!==0,o=(n&pn)!==0;if(t)return i?"se-resize":o?"ne-resize":"e-resize";if(r)return i?"sw-resize":o?"nw-resize":"w-resize";if(i)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Nn(){Z!==null&&(document.head.removeChild(Z),$e=null,Z=null,Pe=-1)}function ke(e,n){var t,r;const i=kn(e,n);if($e!==i){if($e=i,Z===null&&(Z=document.createElement("style"),document.head.appendChild(Z)),Pe>=0){var o;(o=Z.sheet)===null||o===void 0||o.removeRule(Pe)}Pe=(t=(r=Z.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${i} !important;}`))!==null&&t!==void 0?t:-1}}function ln(e){return e.type==="keydown"}function an(e){return e.type.startsWith("pointer")}function sn(e){return e.type.startsWith("mouse")}function Ce(e){if(an(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(sn(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Hn(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Dn(e,n,t){return e.x<n.x+n.width&&e.x+e.width>n.x&&e.y<n.y+n.height&&e.y+e.height>n.y}function Mn(e,n){if(e===n)throw new Error("Cannot compare node with itself");const t={a:Xe(e),b:Xe(n)};let r;for(;t.a.at(-1)===t.b.at(-1);)e=t.a.pop(),n=t.b.pop(),r=e;x(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:qe(Oe(t.a)),b:qe(Oe(t.b))};if(i.a===i.b){const o=r.childNodes,l={a:t.a.at(-1),b:t.b.at(-1)};let a=o.length;for(;a--;){const s=o[a];if(s===l.a)return 1;if(s===l.b)return-1}}return Math.sign(i.a-i.b)}const $n=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function _n(e){var n;const t=getComputedStyle((n=un(e))!==null&&n!==void 0?n:e).display;return t==="flex"||t==="inline-flex"}function Gn(e){const n=getComputedStyle(e);return!!(n.position==="fixed"||n.zIndex!=="auto"&&(n.position!=="static"||_n(e))||+n.opacity<1||"transform"in n&&n.transform!=="none"||"webkitTransform"in n&&n.webkitTransform!=="none"||"mixBlendMode"in n&&n.mixBlendMode!=="normal"||"filter"in n&&n.filter!=="none"||"webkitFilter"in n&&n.webkitFilter!=="none"||"isolation"in n&&n.isolation==="isolate"||$n.test(n.willChange)||n.webkitOverflowScrolling==="touch")}function Oe(e){let n=e.length;for(;n--;){const t=e[n];if(x(t,"Missing node"),Gn(t))return t}return null}function qe(e){return e&&Number(getComputedStyle(e).zIndex)||0}function Xe(e){const n=[];for(;e;)n.push(e),e=un(e);return n}function un(e){const{parentNode:n}=e;return n&&n instanceof ShadowRoot?n.host:n}const cn=1,dn=2,fn=4,pn=8,Tn=Hn()==="coarse";let K=[],se=!1,ne=new Map,Ie=new Map;const he=new Set;function Bn(e,n,t,r,i){var o;const{ownerDocument:l}=n,a={direction:t,element:n,hitAreaMargins:r,setResizeHandlerState:i},s=(o=ne.get(l))!==null&&o!==void 0?o:0;return ne.set(l,s+1),he.add(a),we(),function(){var w;Ie.delete(e),he.delete(a);const p=(w=ne.get(l))!==null&&w!==void 0?w:1;if(ne.set(l,p-1),we(),p===1&&ne.delete(l),K.includes(a)){const u=K.indexOf(a);u>=0&&K.splice(u,1),Fe(),i("up",!0,null)}}}function jn(e){const{target:n}=e,{x:t,y:r}=Ce(e);se=!0,je({target:n,x:t,y:r}),we(),K.length>0&&(Re("down",e),e.preventDefault(),mn(n)||e.stopImmediatePropagation())}function Ne(e){const{x:n,y:t}=Ce(e);if(se&&e.buttons===0&&(se=!1,Re("up",e)),!se){const{target:r}=e;je({target:r,x:n,y:t})}Re("move",e),Fe(),K.length>0&&e.preventDefault()}function He(e){const{target:n}=e,{x:t,y:r}=Ce(e);Ie.clear(),se=!1,K.length>0&&(e.preventDefault(),mn(n)||e.stopImmediatePropagation()),Re("up",e),je({target:n,x:t,y:r}),Fe(),we()}function mn(e){let n=e;for(;n;){if(n.hasAttribute(k.resizeHandle))return!0;n=n.parentElement}return!1}function je({target:e,x:n,y:t}){K.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),he.forEach(i=>{const{element:o,hitAreaMargins:l}=i,a=o.getBoundingClientRect(),{bottom:s,left:z,right:w,top:p}=a,u=Tn?l.coarse:l.fine;if(n>=z-u&&n<=w+u&&t>=p-u&&t<=s+u){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&Mn(r,o)>0){let h=r,E=!1;for(;h&&!h.contains(o);){if(Dn(h.getBoundingClientRect(),a)){E=!0;break}h=h.parentElement}if(E)return}K.push(i)}})}function De(e,n){Ie.set(e,n)}function Fe(){let e=!1,n=!1;K.forEach(r=>{const{direction:i}=r;i==="horizontal"?e=!0:n=!0});let t=0;Ie.forEach(r=>{t|=r}),e&&n?ke("intersection",t):e?ke("horizontal",t):n?ke("vertical",t):Nn()}let Me=new AbortController;function we(){Me.abort(),Me=new AbortController;const e={capture:!0,signal:Me.signal};he.size&&(se?(K.length>0&&ne.forEach((n,t)=>{const{body:r}=t;n>0&&(r.addEventListener("contextmenu",He,e),r.addEventListener("pointerleave",Ne,e),r.addEventListener("pointermove",Ne,e))}),window.addEventListener("pointerup",He,e),window.addEventListener("pointercancel",He,e)):ne.forEach((n,t)=>{const{body:r}=t;n>0&&(r.addEventListener("pointerdown",jn,e),r.addEventListener("pointermove",Ne,e))}))}function Re(e,n){he.forEach(t=>{const{setResizeHandlerState:r}=t,i=K.includes(t);r(e,i,n)})}function Fn(){const[e,n]=d.useState(0);return d.useCallback(()=>n(t=>t+1),[])}function x(e,n){if(!e)throw console.error(n),Error(n)}function re(e,n,t=Te){return e.toFixed(t)===n.toFixed(t)?0:e>n?1:-1}function Y(e,n,t=Te){return re(e,n,t)===0}function F(e,n,t){return re(e,n,t)===0}function Vn(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){const i=e[r],o=n[r];if(!F(i,o,t))return!1}return!0}function ae({panelConstraints:e,panelIndex:n,size:t}){const r=e[n];x(r!=null,`Panel constraints not found for index ${n}`);let{collapsedSize:i=0,collapsible:o,maxSize:l=100,minSize:a=0}=r;if(re(t,a)<0)if(o){const s=(i+a)/2;re(t,s)<0?t=i:t=a}else t=a;return t=Math.min(l,t),t=parseFloat(t.toFixed(Te)),t}function ge({delta:e,initialLayout:n,panelConstraints:t,pivotIndices:r,prevLayout:i,trigger:o}){if(F(e,0))return n;const l=[...n],[a,s]=r;x(a!=null,"Invalid first pivot index"),x(s!=null,"Invalid second pivot index");let z=0;if(o==="keyboard"){{const p=e<0?s:a,u=t[p];x(u,`Panel constraints not found for index ${p}`);const{collapsedSize:v=0,collapsible:h,minSize:E=0}=u;if(h){const R=n[p];if(x(R!=null,`Previous layout not found for panel index ${p}`),F(R,v)){const S=E-R;re(S,Math.abs(e))>0&&(e=e<0?0-S:S)}}}{const p=e<0?a:s,u=t[p];x(u,`No panel constraints found for index ${p}`);const{collapsedSize:v=0,collapsible:h,minSize:E=0}=u;if(h){const R=n[p];if(x(R!=null,`Previous layout not found for panel index ${p}`),F(R,E)){const S=R-v;re(S,Math.abs(e))>0&&(e=e<0?0-S:S)}}}}{const p=e<0?1:-1;let u=e<0?s:a,v=0;for(;;){const E=n[u];x(E!=null,`Previous layout not found for panel index ${u}`);const S=ae({panelConstraints:t,panelIndex:u,size:100})-E;if(v+=S,u+=p,u<0||u>=t.length)break}const h=Math.min(Math.abs(e),Math.abs(v));e=e<0?0-h:h}{let u=e<0?a:s;for(;u>=0&&u<t.length;){const v=Math.abs(e)-Math.abs(z),h=n[u];x(h!=null,`Previous layout not found for panel index ${u}`);const E=h-v,R=ae({panelConstraints:t,panelIndex:u,size:E});if(!F(h,R)&&(z+=h-R,l[u]=R,z.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?u--:u++}}if(Vn(i,l))return i;{const p=e<0?s:a,u=n[p];x(u!=null,`Previous layout not found for panel index ${p}`);const v=u+z,h=ae({panelConstraints:t,panelIndex:p,size:v});if(l[p]=h,!F(h,v)){let E=v-h,S=e<0?s:a;for(;S>=0&&S<t.length;){const L=l[S];x(L!=null,`Previous layout not found for panel index ${S}`);const H=L+E,M=ae({panelConstraints:t,panelIndex:S,size:H});if(F(L,M)||(E-=M-L,l[S]=M),F(E,0))break;e>0?S--:S++}}}const w=l.reduce((p,u)=>u+p,0);return F(w,100)?l:i}function Wn({layout:e,panelsArray:n,pivotIndices:t}){let r=0,i=100,o=0,l=0;const a=t[0];x(a!=null,"No pivot index found"),n.forEach((p,u)=>{const{constraints:v}=p,{maxSize:h=100,minSize:E=0}=v;u===a?(r=E,i=h):(o+=E,l+=h)});const s=Math.min(i,100-o),z=Math.max(r,100-l),w=e[a];return{valueMax:s,valueMin:z,valueNow:w}}function ye(e,n=document){return Array.from(n.querySelectorAll(`[${k.resizeHandleId}][data-panel-group-id="${e}"]`))}function gn(e,n,t=document){const i=ye(e,t).findIndex(o=>o.getAttribute(k.resizeHandleId)===n);return i??null}function zn(e,n,t){const r=gn(e,n,t);return r!=null?[r,r+1]:[-1,-1]}function hn(e,n=document){var t;if(n instanceof HTMLElement&&(n==null||(t=n.dataset)===null||t===void 0?void 0:t.panelGroupId)==e)return n;const r=n.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function Le(e,n=document){const t=n.querySelector(`[${k.resizeHandleId}="${e}"]`);return t||null}function Kn(e,n,t,r=document){var i,o,l,a;const s=Le(n,r),z=ye(e,r),w=s?z.indexOf(s):-1,p=(i=(o=t[w])===null||o===void 0?void 0:o.id)!==null&&i!==void 0?i:null,u=(l=(a=t[w+1])===null||a===void 0?void 0:a.id)!==null&&l!==void 0?l:null;return[p,u]}function Un({committedValuesRef:e,eagerValuesRef:n,groupId:t,layout:r,panelDataArray:i,panelGroupElement:o,setLayout:l}){d.useRef({didWarnAboutMissingResizeHandle:!1}),te(()=>{if(!o)return;const a=ye(t,o);for(let s=0;s<i.length-1;s++){const{valueMax:z,valueMin:w,valueNow:p}=Wn({layout:r,panelsArray:i,pivotIndices:[s,s+1]}),u=a[s];if(u!=null){const v=i[s];x(v,`No panel data found for index "${s}"`),u.setAttribute("aria-controls",v.id),u.setAttribute("aria-valuemax",""+Math.round(z)),u.setAttribute("aria-valuemin",""+Math.round(w)),u.setAttribute("aria-valuenow",p!=null?""+Math.round(p):"")}}return()=>{a.forEach((s,z)=>{s.removeAttribute("aria-controls"),s.removeAttribute("aria-valuemax"),s.removeAttribute("aria-valuemin"),s.removeAttribute("aria-valuenow")})}},[t,r,i,o]),d.useEffect(()=>{if(!o)return;const a=n.current;x(a,"Eager values not found");const{panelDataArray:s}=a,z=hn(t,o);x(z!=null,`No group found for id "${t}"`);const w=ye(t,o);x(w,`No resize handles found for group id "${t}"`);const p=w.map(u=>{const v=u.getAttribute(k.resizeHandleId);x(v,"Resize handle element has no handle id attribute");const[h,E]=Kn(t,v,s,o);if(h==null||E==null)return()=>{};const R=S=>{if(!S.defaultPrevented)switch(S.key){case"Enter":{S.preventDefault();const L=s.findIndex(H=>H.id===h);if(L>=0){const H=s[L];x(H,`No panel data found for index ${L}`);const M=r[L],{collapsedSize:U=0,collapsible:I,minSize:P=0}=H.constraints;if(M!=null&&I){const V=ge({delta:F(M,U)?P-U:U-M,initialLayout:r,panelConstraints:s.map(X=>X.constraints),pivotIndices:zn(t,v,o),prevLayout:r,trigger:"keyboard"});r!==V&&l(V)}}break}}};return u.addEventListener("keydown",R),()=>{u.removeEventListener("keydown",R)}});return()=>{p.forEach(u=>u())}},[o,e,n,t,r,i,l])}function Je(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function yn(e,n){const t=e==="horizontal",{x:r,y:i}=Ce(n);return t?r:i}function On(e,n,t,r,i){const o=t==="horizontal",l=Le(n,i);x(l,`No resize handle element found for id "${n}"`);const a=l.getAttribute(k.groupId);x(a,"Resize handle element has no group id attribute");let{initialCursorPosition:s}=r;const z=yn(t,e),w=hn(a,i);x(w,`No group element found for id "${a}"`);const p=w.getBoundingClientRect(),u=o?p.width:p.height;return(z-s)/u*100}function qn(e,n,t,r,i,o){if(ln(e)){const l=t==="horizontal";let a=0;e.shiftKey?a=100:i!=null?a=i:a=10;let s=0;switch(e.key){case"ArrowDown":s=l?0:a;break;case"ArrowLeft":s=l?-a:0;break;case"ArrowRight":s=l?a:0;break;case"ArrowUp":s=l?0:-a;break;case"End":s=100;break;case"Home":s=-100;break}return s}else return r==null?0:On(e,n,t,r,o)}function Xn({panelDataArray:e}){const n=Array(e.length),t=e.map(o=>o.constraints);let r=0,i=100;for(let o=0;o<e.length;o++){const l=t[o];x(l,`Panel constraints not found for index ${o}`);const{defaultSize:a}=l;a!=null&&(r++,n[o]=a,i-=a)}for(let o=0;o<e.length;o++){const l=t[o];x(l,`Panel constraints not found for index ${o}`);const{defaultSize:a}=l;if(a!=null)continue;const s=e.length-r,z=i/s;r++,n[o]=z,i-=z}return n}function ie(e,n,t){n.forEach((r,i)=>{const o=e[i];x(o,`Panel data not found for index ${i}`);const{callbacks:l,constraints:a,id:s}=o,{collapsedSize:z=0,collapsible:w}=a,p=t[s];if(p==null||r!==p){t[s]=r;const{onCollapse:u,onExpand:v,onResize:h}=l;h&&h(r,p),w&&(u||v)&&(v&&(p==null||Y(p,z))&&!Y(r,z)&&v(),u&&(p==null||!Y(p,z))&&Y(r,z)&&u())}})}function be(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!=n[t])return!1;return!0}function Jn({defaultSize:e,dragState:n,layout:t,panelData:r,panelIndex:i,precision:o=3}){const l=t[i];let a;return l==null?a=e!=null?e.toPrecision(o):"1":r.length===1?a="1":a=l.toPrecision(o),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:n!==null?"none":void 0}}function Yn(e,n=10){let t=null;return(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{e(...i)},n)}}function Ye(e){try{if(typeof localStorage<"u")e.getItem=n=>localStorage.getItem(n),e.setItem=(n,t)=>{localStorage.setItem(n,t)};else throw new Error("localStorage not supported in this environment")}catch(n){console.error(n),e.getItem=()=>null,e.setItem=()=>{}}}function xn(e){return`react-resizable-panels:${e}`}function vn(e){return e.map(n=>{const{constraints:t,id:r,idIsFromProps:i,order:o}=n;return i?r:o?`${o}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((n,t)=>n.localeCompare(t)).join(",")}function bn(e,n){try{const t=xn(e),r=n.getItem(t);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function Zn(e,n,t){var r,i;const o=(r=bn(e,t))!==null&&r!==void 0?r:{},l=vn(n);return(i=o[l])!==null&&i!==void 0?i:null}function Qn(e,n,t,r,i){var o;const l=xn(e),a=vn(n),s=(o=bn(e,i))!==null&&o!==void 0?o:{};s[a]={expandToSizes:Object.fromEntries(t.entries()),layout:r};try{i.setItem(l,JSON.stringify(s))}catch(z){console.error(z)}}function Ze({layout:e,panelConstraints:n}){const t=[...e],r=t.reduce((o,l)=>o+l,0);if(t.length!==n.length)throw Error(`Invalid ${n.length} panel layout: ${t.map(o=>`${o}%`).join(", ")}`);if(!F(r,100)&&t.length>0)for(let o=0;o<n.length;o++){const l=t[o];x(l!=null,`No layout data found for index ${o}`);const a=100/r*l;t[o]=a}let i=0;for(let o=0;o<n.length;o++){const l=t[o];x(l!=null,`No layout data found for index ${o}`);const a=ae({panelConstraints:n,panelIndex:o,size:l});l!=a&&(i+=l-a,t[o]=a)}if(!F(i,0))for(let o=0;o<n.length;o++){const l=t[o];x(l!=null,`No layout data found for index ${o}`);const a=l+i,s=ae({panelConstraints:n,panelIndex:o,size:a});if(l!==s&&(i-=s-l,t[o]=s,F(i,0)))break}return t}const et=100,ze={getItem:e=>(Ye(ze),ze.getItem(e)),setItem:(e,n)=>{Ye(ze),ze.setItem(e,n)}},Qe={};function Sn({autoSaveId:e=null,children:n,className:t="",direction:r,forwardedRef:i,id:o=null,onLayout:l=null,keyboardResizeBy:a=null,storage:s=ze,style:z,tagName:w="div",...p}){const u=Be(o),v=d.useRef(null),[h,E]=d.useState(null),[R,S]=d.useState([]),L=Fn(),H=d.useRef({}),M=d.useRef(new Map),U=d.useRef(0),I=d.useRef({autoSaveId:e,direction:r,dragState:h,id:u,keyboardResizeBy:a,onLayout:l,storage:s}),P=d.useRef({layout:R,panelDataArray:[],panelDataArrayChanged:!1});d.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),d.useImperativeHandle(i,()=>({getId:()=>I.current.id,getLayout:()=>{const{layout:c}=P.current;return c},setLayout:c=>{const{onLayout:g}=I.current,{layout:b,panelDataArray:m}=P.current,f=Ze({layout:c,panelConstraints:m.map(y=>y.constraints)});Je(b,f)||(S(f),P.current.layout=f,g&&g(f),ie(m,f,H.current))}}),[]),te(()=>{I.current.autoSaveId=e,I.current.direction=r,I.current.dragState=h,I.current.id=u,I.current.onLayout=l,I.current.storage=s}),Un({committedValuesRef:I,eagerValuesRef:P,groupId:u,layout:R,panelDataArray:P.current.panelDataArray,setLayout:S,panelGroupElement:v.current}),d.useEffect(()=>{const{panelDataArray:c}=P.current;if(e){if(R.length===0||R.length!==c.length)return;let g=Qe[e];g==null&&(g=Yn(Qn,et),Qe[e]=g);const b=[...c],m=new Map(M.current);g(e,b,m,R,s)}},[e,R,s]),d.useEffect(()=>{});const V=d.useCallback(c=>{const{onLayout:g}=I.current,{layout:b,panelDataArray:m}=P.current;if(c.constraints.collapsible){const f=m.map(O=>O.constraints),{collapsedSize:y=0,panelSize:C,pivotIndices:D}=ee(m,c,b);if(x(C!=null,`Panel size not found for panel "${c.id}"`),!Y(C,y)){M.current.set(c.id,C);const q=le(m,c)===m.length-1?C-y:y-C,A=ge({delta:q,initialLayout:b,panelConstraints:f,pivotIndices:D,prevLayout:b,trigger:"imperative-api"});be(b,A)||(S(A),P.current.layout=A,g&&g(A),ie(m,A,H.current))}}},[]),X=d.useCallback((c,g)=>{const{onLayout:b}=I.current,{layout:m,panelDataArray:f}=P.current;if(c.constraints.collapsible){const y=f.map(W=>W.constraints),{collapsedSize:C=0,panelSize:D=0,minSize:O=0,pivotIndices:q}=ee(f,c,m),A=g??O;if(Y(D,C)){const W=M.current.get(c.id),pe=W!=null&&W>=A?W:A,Ae=le(f,c)===f.length-1?D-pe:pe-D,B=ge({delta:Ae,initialLayout:m,panelConstraints:y,pivotIndices:q,prevLayout:m,trigger:"imperative-api"});be(m,B)||(S(B),P.current.layout=B,b&&b(B),ie(f,B,H.current))}}},[]),j=d.useCallback(c=>{const{layout:g,panelDataArray:b}=P.current,{panelSize:m}=ee(b,c,g);return x(m!=null,`Panel size not found for panel "${c.id}"`),m},[]),G=d.useCallback((c,g)=>{const{panelDataArray:b}=P.current,m=le(b,c);return Jn({defaultSize:g,dragState:h,layout:R,panelData:b,panelIndex:m})},[h,R]),N=d.useCallback(c=>{const{layout:g,panelDataArray:b}=P.current,{collapsedSize:m=0,collapsible:f,panelSize:y}=ee(b,c,g);return x(y!=null,`Panel size not found for panel "${c.id}"`),f===!0&&Y(y,m)},[]),Q=d.useCallback(c=>{const{layout:g,panelDataArray:b}=P.current,{collapsedSize:m=0,collapsible:f,panelSize:y}=ee(b,c,g);return x(y!=null,`Panel size not found for panel "${c.id}"`),!f||re(y,m)>0},[]),_=d.useCallback(c=>{const{panelDataArray:g}=P.current;g.push(c),g.sort((b,m)=>{const f=b.order,y=m.order;return f==null&&y==null?0:f==null?-1:y==null?1:f-y}),P.current.panelDataArrayChanged=!0,L()},[L]);te(()=>{if(P.current.panelDataArrayChanged){P.current.panelDataArrayChanged=!1;const{autoSaveId:c,onLayout:g,storage:b}=I.current,{layout:m,panelDataArray:f}=P.current;let y=null;if(c){const D=Zn(c,f,b);D&&(M.current=new Map(Object.entries(D.expandToSizes)),y=D.layout)}y==null&&(y=Xn({panelDataArray:f}));const C=Ze({layout:y,panelConstraints:f.map(D=>D.constraints)});Je(m,C)||(S(C),P.current.layout=C,g&&g(C),ie(f,C,H.current))}}),te(()=>{const c=P.current;return()=>{c.layout=[]}},[]);const $=d.useCallback(c=>{let g=!1;const b=v.current;return b&&window.getComputedStyle(b,null).getPropertyValue("direction")==="rtl"&&(g=!0),function(f){f.preventDefault();const y=v.current;if(!y)return()=>null;const{direction:C,dragState:D,id:O,keyboardResizeBy:q,onLayout:A}=I.current,{layout:W,panelDataArray:pe}=P.current,{initialLayout:ve}=D??{},Ae=zn(O,c,y);let B=qn(f,c,C,D,q,y);const We=C==="horizontal";We&&g&&(B=-B);const En=pe.map(Cn=>Cn.constraints),me=ge({delta:B,initialLayout:ve??W,panelConstraints:En,pivotIndices:Ae,prevLayout:W,trigger:ln(f)?"keyboard":"mouse-or-touch"}),Ke=!be(W,me);(an(f)||sn(f))&&U.current!=B&&(U.current=B,!Ke&&B!==0?We?De(c,B<0?cn:dn):De(c,B<0?fn:pn):De(c,0)),Ke&&(S(me),P.current.layout=me,A&&A(me),ie(pe,me,H.current))}},[]),T=d.useCallback((c,g)=>{const{onLayout:b}=I.current,{layout:m,panelDataArray:f}=P.current,y=f.map(W=>W.constraints),{panelSize:C,pivotIndices:D}=ee(f,c,m);x(C!=null,`Panel size not found for panel "${c.id}"`);const q=le(f,c)===f.length-1?C-g:g-C,A=ge({delta:q,initialLayout:m,panelConstraints:y,pivotIndices:D,prevLayout:m,trigger:"imperative-api"});be(m,A)||(S(A),P.current.layout=A,b&&b(A),ie(f,A,H.current))},[]),ue=d.useCallback((c,g)=>{const{layout:b,panelDataArray:m}=P.current,{collapsedSize:f=0,collapsible:y}=g,{collapsedSize:C=0,collapsible:D,maxSize:O=100,minSize:q=0}=c.constraints,{panelSize:A}=ee(m,c,b);A!=null&&(y&&D&&Y(A,f)?Y(f,C)||T(c,C):A<q?T(c,q):A>O&&T(c,O))},[T]),ce=d.useCallback((c,g)=>{const{direction:b}=I.current,{layout:m}=P.current;if(!v.current)return;const f=Le(c,v.current);x(f,`Drag handle element not found for id "${c}"`);const y=yn(b,g);E({dragHandleId:c,dragHandleRect:f.getBoundingClientRect(),initialCursorPosition:y,initialLayout:m})},[]),de=d.useCallback(()=>{E(null)},[]),xe=d.useCallback(c=>{const{panelDataArray:g}=P.current,b=le(g,c);b>=0&&(g.splice(b,1),delete H.current[c.id],P.current.panelDataArrayChanged=!0,L())},[L]),oe=d.useMemo(()=>({collapsePanel:V,direction:r,dragState:h,expandPanel:X,getPanelSize:j,getPanelStyle:G,groupId:u,isPanelCollapsed:N,isPanelExpanded:Q,reevaluatePanelConstraints:ue,registerPanel:_,registerResizeHandle:$,resizePanel:T,startDragging:ce,stopDragging:de,unregisterPanel:xe,panelGroupElement:v.current}),[V,h,r,X,j,G,u,N,Q,ue,_,$,T,ce,de,xe]),fe={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return d.createElement(Ee.Provider,{value:oe},d.createElement(w,{...p,children:n,className:t,id:o,ref:v,style:{...fe,...z},[k.group]:"",[k.groupDirection]:r,[k.groupId]:u}))}const Pn=d.forwardRef((e,n)=>d.createElement(Sn,{...e,forwardedRef:n}));Sn.displayName="PanelGroup";Pn.displayName="forwardRef(PanelGroup)";function le(e,n){return e.findIndex(t=>t===n||t.id===n.id)}function ee(e,n,t){const r=le(e,n),o=r===e.length-1?[r-1,r]:[r,r+1],l=t[r];return{...n.constraints,panelSize:l,pivotIndices:o}}function nt({disabled:e,handleId:n,resizeHandler:t,panelGroupElement:r}){d.useEffect(()=>{if(e||t==null||r==null)return;const i=Le(n,r);if(i==null)return;const o=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),t(l);break}case"F6":{l.preventDefault();const a=i.getAttribute(k.groupId);x(a,`No group element found for id "${a}"`);const s=ye(a,r),z=gn(a,n,r);x(z!==null,`No resize element found for id "${n}"`);const w=l.shiftKey?z>0?z-1:s.length-1:z+1<s.length?z+1:0;s[w].focus();break}}};return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}},[r,e,n,t])}function wn({children:e=null,className:n="",disabled:t=!1,hitAreaMargins:r,id:i,onBlur:o,onClick:l,onDragging:a,onFocus:s,onPointerDown:z,onPointerUp:w,style:p={},tabIndex:u=0,tagName:v="div",...h}){var E,R;const S=d.useRef(null),L=d.useRef({onClick:l,onDragging:a,onPointerDown:z,onPointerUp:w});d.useEffect(()=>{L.current.onClick=l,L.current.onDragging=a,L.current.onPointerDown=z,L.current.onPointerUp=w});const H=d.useContext(Ee);if(H===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:M,groupId:U,registerResizeHandle:I,startDragging:P,stopDragging:V,panelGroupElement:X}=H,j=Be(i),[G,N]=d.useState("inactive"),[Q,_]=d.useState(!1),[$,T]=d.useState(null),ue=d.useRef({state:G});te(()=>{ue.current.state=G}),d.useEffect(()=>{if(t)T(null);else{const oe=I(j);T(()=>oe)}},[t,j,I]);const ce=(E=r==null?void 0:r.coarse)!==null&&E!==void 0?E:15,de=(R=r==null?void 0:r.fine)!==null&&R!==void 0?R:5;d.useEffect(()=>{if(t||$==null)return;const oe=S.current;x(oe,"Element ref not attached");let fe=!1;return Bn(j,oe,M,{coarse:ce,fine:de},(g,b,m)=>{if(!b){N("inactive");return}switch(g){case"down":{N("drag"),fe=!1,x(m,'Expected event to be defined for "down" action'),P(j,m);const{onDragging:f,onPointerDown:y}=L.current;f==null||f(!0),y==null||y();break}case"move":{const{state:f}=ue.current;fe=!0,f!=="drag"&&N("hover"),x(m,'Expected event to be defined for "move" action'),$(m);break}case"up":{N("hover"),V();const{onClick:f,onDragging:y,onPointerUp:C}=L.current;y==null||y(!1),C==null||C(),fe||f==null||f();break}}})},[ce,M,t,de,I,j,$,P,V]),nt({disabled:t,handleId:j,resizeHandler:$,panelGroupElement:X});const xe={touchAction:"none",userSelect:"none"};return d.createElement(v,{...h,children:e,className:n,id:i,onBlur:()=>{_(!1),o==null||o()},onFocus:()=>{_(!0),s==null||s()},ref:S,role:"separator",style:{...xe,...p},tabIndex:u,[k.groupDirection]:M,[k.groupId]:U,[k.resizeHandle]:"",[k.resizeHandleActive]:G==="drag"?"pointer":Q?"keyboard":void 0,[k.resizeHandleEnabled]:!t,[k.resizeHandleId]:j,[k.resizeHandleState]:G})}wn.displayName="PanelResizeHandle";function Ve({className:e,...n}){return J.jsx(Pn,{className:Ge("flex data-[panel-group-direction=vertical]:flex-col",e),...n})}function _e({className:e,...n}){return J.jsx(on,{className:Ge("min-w-0",e),...n})}function Rn({className:e,withHandle:n=!0,...t}){return J.jsx(wn,{className:Ge("relative flex w-px items-center justify-center bg-border transition-colors data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:py-1 data-[panel-group-direction=horizontal]:px-1",e),...t,children:n?J.jsx("div",{className:"z-10 size-4 rounded-full border border-border bg-background shadow-xs"}):null})}Ve.__docgenInfo={description:"",methods:[],displayName:"ResizablePanelGroup"};_e.__docgenInfo={description:"",methods:[],displayName:"ResizablePanel"};Rn.__docgenInfo={description:"",methods:[],displayName:"ResizableHandle",props:{withHandle:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};const lt={title:"Components/Resizable",component:Ve},Se={render:()=>J.jsx("div",{className:"h-[240px] border",children:J.jsxs(Ve,{direction:"horizontal",children:[J.jsx(_e,{defaultSize:50,className:"p-2",children:"Left"}),J.jsx(Rn,{}),J.jsx(_e,{defaultSize:50,className:"p-2",children:"Right"})]})})};var en,nn,tn;Se.parameters={...Se.parameters,docs:{...(en=Se.parameters)==null?void 0:en.docs,source:{originalSource:`{
  render: () => <div className="h-[240px] border">
      <ResizablePanelGroup direction="horizontal">
        <ResizablePanel defaultSize={50} className="p-2">Left</ResizablePanel>
        <ResizableHandle />
        <ResizablePanel defaultSize={50} className="p-2">Right</ResizablePanel>
      </ResizablePanelGroup>
    </div>
}`,...(tn=(nn=Se.parameters)==null?void 0:nn.docs)==null?void 0:tn.source}}};const at=["TwoPanels"];export{Se as TwoPanels,at as __namedExportsOrder,lt as default};
